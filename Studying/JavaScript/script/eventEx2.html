<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>이벤트 예시</title>
</head>

<body>
    <form name="myform" onsubmit="myFunction(event);" action="test.jsp">
        암호 : <input type="password" name="pw" id="pw">
        Email : <input type="email" name="email" id="email">
        <button id="mybtn">button</button>
    </form>

    <script>
        function myFunction(event) {
            event.preventDefault();

            let pwValue = document.getElementById('pw').value;
            let emailValue = document.getElementById('email').value;

            let pwreg = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,15}$/;
            let emailreg = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
            
            if (!pwreg.test(pwValue)){
                alert("비밀번호는 8~15자 사이여야 하며, 대소문자와 숫자가 최소 한개 이상 포함되어야 합니다. 다시 입력하세요.");
                document.forms['myform'].reset(); 
                return;
            }

            if (!emailreg.test(emailValue)){
                alert("올바른 이메일 형식이 아닙니다. 다시 입력하세요.");
                document.forms['myform'].reset();
                return; 
            }

            alert("모든 형식이 올바릅니다. 전송합니다.");
            document.forms['myform'].submit();
        }
    </script>
</body>

</html>